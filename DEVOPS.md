# Hour of AI Landing Page - DevOps æŠ€è¡“æ–‡ä»¶

> æ­¤æ–‡ä»¶è¨˜éŒ„å°ˆæ¡ˆçš„éƒ¨ç½²æ¶æ§‹èˆ‡é–‹ç™¼æµç¨‹ï¼Œä¾›äººé¡é–‹ç™¼è€…èˆ‡ AI åŠ©æ‰‹ï¼ˆå¦‚ Claudeï¼‰åƒè€ƒã€‚
> ç•¶æœ‰ç›¸é—œæ¶æ§‹æˆ–æµç¨‹è®Šæ›´æ™‚ï¼Œè«‹åŒæ­¥æ›´æ–°æ­¤æ–‡ä»¶ã€‚

---

## 1. ç³»çµ±æ¶æ§‹ç¸½è¦½

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ä½¿ç”¨è€…è«‹æ±‚                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Production: hoa.junyiacademy.org                              â”‚
â”‚   Firebase é è¨­: hour-of-ai-landing-junyi.web.app               â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                     â”‚
â”‚   Firebase Hosting                                              â”‚
â”‚   - éœæ…‹æª”æ¡ˆè¨—ç®¡                                                 â”‚
â”‚   - index.html (ä¸»è¦å…¥å£)                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â”‚ POST /exec (è¡¨å–®æäº¤)
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Google Apps Script (Web App)                                  â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                     â”‚
â”‚   URL: https://script.google.com/macros/s/AKfycbw.../exec       â”‚
â”‚   åŠŸèƒ½:                                                         â”‚
â”‚   - æ¥æ”¶è¡¨å–®è³‡æ–™                                                 â”‚
â”‚   - é©—è­‰ä¾†æº (CORS ç™½åå–®)                                       â”‚
â”‚   - å¯«å…¥ Google Sheets                                          â”‚
â”‚   - æä¾›çµ±è¨ˆ API                                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
                                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Google Sheets (è³‡æ–™åº«)                                        â”‚
â”‚   â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€                     â”‚
â”‚   å„²å­˜æ‰€æœ‰è¡¨å–®æäº¤è³‡æ–™                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. ç’°å¢ƒé…ç½®

### 2.1 Production ç’°å¢ƒ

| é …ç›® | å€¼ |
|------|-----|
| **Hosting** | Firebase Hosting |
| **URLï¼ˆæ­£å¼ï¼‰** | https://hoa.junyiacademy.org |
| **URLï¼ˆFirebase é è¨­ï¼‰** | https://hour-of-ai-landing-junyi.web.app |
| **Branch** | `main` |
| **éƒ¨ç½²æ–¹å¼** | æ‰‹å‹• `firebase deploy --only hosting` |

### 2.2 Preview ç’°å¢ƒï¼ˆæ¸¬è©¦ï¼‰

| é …ç›® | å€¼ |
|------|-----|
| **Hosting** | Vercel (è‡ªå‹•) |
| **URL** | å‹•æ…‹ç”¢ç”Ÿï¼Œå¦‚ `pr-123-xxx.vercel.app` |
| **è§¸ç™¼æ¢ä»¶** | ä»»ä½• PR å»ºç«‹æ™‚è‡ªå‹•éƒ¨ç½² |
| **ç”¨é€”** | æ¸¬è©¦è®Šæ›´ï¼Œç¢ºèªç„¡èª¤å¾Œå† merge |

### 2.3 æœ¬åœ°é–‹ç™¼

| é …ç›® | å€¼ |
|------|-----|
| **URL** | http://localhost:5000 |
| **æ¨¡å¼** | Demo Modeï¼ˆä¸æœƒå¯¦éš›æäº¤åˆ° Google Sheetsï¼‰|
| **å•Ÿå‹•æ–¹å¼** | `npm run dev`ï¼ˆVite é–‹ç™¼ä¼ºæœå™¨ï¼‰|
| **å»ºç½®æ–¹å¼** | `npm run build`ï¼ˆç”¢å‡ºè‡³ dist/ï¼‰|

---

## 3. å‰ç«¯ç’°å¢ƒåµæ¸¬é‚è¼¯

å‰ç«¯æœƒæ ¹æ“š `hostname` è‡ªå‹•åˆ¤æ–·ä½¿ç”¨å“ªå€‹ APIï¼š

```javascript
// index.html ä¸­çš„ getFormSubmitUrl() å‡½æ•¸é‚è¼¯

1. URL åƒæ•¸ ?apiUrl=xxx     â†’ ä½¿ç”¨æŒ‡å®šçš„ APIï¼ˆæ¸¬è©¦ç”¨ï¼‰
2. window.HOA_CONFIG        â†’ ä½¿ç”¨ WordPress è¨­å®šçš„ API
3. junyiacademy.org         â†’ éœ€è¦ WordPress è¨­å®š
4. hour-of-ai-landing-junyi.web.app / .firebaseapp.com
                            â†’ ä½¿ç”¨ Production API
5. å…¶ä»–ï¼ˆlocalhost, Vercel preview ç­‰ï¼‰
                            â†’ Demo Modeï¼ˆæ¨¡æ“¬æäº¤ï¼‰
```

**æ³¨æ„**: Vercel Preview ç’°å¢ƒç›®å‰æœƒé€²å…¥ Demo Modeï¼Œä¸æœƒå¯¦éš›æäº¤è³‡æ–™ã€‚

---

## 4. Backend ç™½åå–®è¨­å®š

Google Apps Script çš„ `validateOrigin` å‡½æ•¸éœ€è¦è¨­å®šå…è¨±çš„ä¾†æºï¼š

```javascript
// Google Apps Script ä¸­çš„ç™½åå–®
const allowedOrigins = [
  'https://www.junyiacademy.org',
  'https://junyiacademy.org',
  // æ­£å¼ç¶²åŸŸ
  'https://hoa.junyiacademy.org',
  // Firebase Hosting (æ¸¬è©¦/é–‹ç™¼)
  'https://hour-of-ai-landing-junyi.web.app',
  'https://hour-of-ai-landing-junyi.firebaseapp.com'
];
```

### æ–°å¢ç™½åå–®æ­¥é©Ÿ

1. é–‹å•Ÿ [Google Apps Script ç·¨è¼¯å™¨](https://script.google.com/)
2. æ‰¾åˆ° `validateOrigin` å‡½æ•¸
3. åœ¨ `allowedOrigins` é™£åˆ—ä¸­æ–°å¢ç¶²åŸŸ
4. Deploy â†’ New deployment
5. è¤‡è£½æ–°çš„ Web App URLï¼ˆå¦‚æœæœ‰è®Šæ›´ï¼‰

---

## 5. é–‹ç™¼èˆ‡éƒ¨ç½²æµç¨‹

### 5.1 æ¨™æº–é–‹ç™¼æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å»ºç«‹ Branch  â”‚ â”€â”€â–¶ â”‚   ç™¼ PR      â”‚ â”€â”€â–¶ â”‚ Vercel è‡ªå‹•  â”‚ â”€â”€â–¶ â”‚  æ¸¬è©¦ Preview â”‚
â”‚              â”‚     â”‚              â”‚     â”‚ éƒ¨ç½² Preview â”‚     â”‚     URL      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                       â”‚
                                                                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   å®Œæˆï¼     â”‚ â—€â”€â”€ â”‚ GitHub Action â”‚ â—€â”€â”€ â”‚ Merge to     â”‚ â—€â”€â”€ â”‚  ç¢ºèª OKï¼Ÿ   â”‚
â”‚              â”‚     â”‚  è‡ªå‹•éƒ¨ç½²     â”‚     â”‚    main      â”‚     â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 5.2 è‡ªå‹•éƒ¨ç½²ï¼ˆGitHub Actionsï¼‰

ç•¶ push åˆ° `main` branch æ™‚ï¼ŒGitHub Actions æœƒè‡ªå‹•ï¼š
1. å®‰è£ Node.js 20
2. åŸ·è¡Œ `npm ci` å®‰è£ä¾è³´
3. åŸ·è¡Œ `npm run build` å»ºç½® Vite å°ˆæ¡ˆ
4. éƒ¨ç½² `dist/` è³‡æ–™å¤¾åˆ° Firebase Hosting

**Workflow æª”æ¡ˆ**: `.github/workflows/firebase-deploy.yml`

**ç›¸é—œè¨­å®š**:
- Service Account: `github-actions-deploy@hour-of-ai-landing-junyi.iam.gserviceaccount.com`
- GitHub Secret: `FIREBASE_SERVICE_ACCOUNT`
- æ¬Šé™: Firebase Hosting Admin

**æŸ¥çœ‹éƒ¨ç½²ç‹€æ…‹**: [GitHub Actions](https://github.com/ys-fang/hour-of-ai-landing/actions)

### 5.3 æ‰‹å‹•éƒ¨ç½²ï¼ˆå‚™ç”¨ï¼‰

å¦‚éœ€æ‰‹å‹•éƒ¨ç½²ï¼Œå¯ä½¿ç”¨ï¼š

```bash
# å»ºç½®å°ˆæ¡ˆ
npm run build

# éƒ¨ç½²åˆ° Firebase Production
firebase deploy --only hosting
```

### 5.4 Vercel Preview æ³¨æ„äº‹é …

- **è‡ªå‹•ç”¢ç”Ÿ**: æ‰€æœ‰ repo collaborators çš„ PR éƒ½æœƒè‡ªå‹•ç”¢ç”Ÿ preview
- **Fork PR**: é è¨­ä¸æœƒè‡ªå‹•ç”¢ç”Ÿï¼ˆå®‰å…¨è€ƒé‡ï¼‰
- **Demo Mode**: Preview ç’°å¢ƒçš„è¡¨å–®æäº¤ç‚ºæ¨¡æ“¬ï¼Œä¸æœƒå¯«å…¥å¯¦éš›è³‡æ–™

---

## 6. é‡è¦é€£çµ

| é …ç›® | é€£çµ |
|------|------|
| **GitHub Repo** | https://github.com/ys-fang/hour-of-ai-landing |
| **Firebase Console** | https://console.firebase.google.com/project/hour-of-ai-landing-junyi |
| **Production URL** | https://hour-of-ai-landing-junyi.web.app |
| **Google Analytics** | https://analytics.google.com/ ï¼ˆå¸³æˆ¶ï¼šjutor-a8ad8ï¼‰ |
| **Google Apps Script** | ï¼ˆéœ€å¾ Google Drive å­˜å–ï¼‰ |
| **Google Sheets** | ï¼ˆéœ€å¾ Google Drive å­˜å–ï¼‰ |

---

## 7. Google Apps Script CLI éƒ¨ç½² (clasp)

### 7.1 æ¦‚è¿°

ä½¿ç”¨ [clasp](https://github.com/google/clasp) é€éå‘½ä»¤åˆ—ç®¡ç†å’Œéƒ¨ç½² Google Apps Scriptï¼Œå–ä»£æ‰‹å‹•åœ¨ GAS ç·¨è¼¯å™¨ä¸­è¤‡è£½è²¼ä¸Šç¨‹å¼ç¢¼ã€‚

### 7.2 ç›®éŒ„çµæ§‹

```
backend/
â”œâ”€â”€ gas/                              # clasp ç®¡ç†çš„ GAS å°ˆæ¡ˆ
â”‚   â”œâ”€â”€ .clasp.json                   # clasp è¨­å®šï¼ˆScript IDï¼‰
â”‚   â”œâ”€â”€ appsscript.json               # GAS manifest
â”‚   â””â”€â”€ Code.js                       # ä¸»è¦ç¨‹å¼ç¢¼
â”œâ”€â”€ google-apps-script-stats-api-updated.js  # å‚™ä»½/åƒè€ƒ
â””â”€â”€ taiwan-rank-tracker.js            # ç¨ç«‹çš„æ’åè¿½è¹¤å™¨
```

### 7.3 åˆå§‹è¨­å®š

```bash
# 1. å®‰è£ claspï¼ˆå…¨åŸŸï¼‰
npm install -g @google/clasp

# 2. ç™»å…¥ Google å¸³è™Ÿï¼ˆéœ€è¦ç€è¦½å™¨æˆæ¬Šï¼‰
clasp login

# 3. ç¢ºèªç™»å…¥æˆåŠŸ
clasp login --status
```

### 7.4 ä½¿ç”¨æ–¹å¼

| æŒ‡ä»¤ | èªªæ˜ |
|------|------|
| `npm run gas:push` | å°‡æœ¬åœ°ç¨‹å¼ç¢¼æ¨é€åˆ° GAS |
| `npm run gas:pull` | å¾ GAS æ‹‰å–æœ€æ–°ç¨‹å¼ç¢¼ |
| `npm run gas:deploy` | æ¨é€ä¸¦å»ºç«‹æ–°ç‰ˆæœ¬éƒ¨ç½² |
| `npm run gas:open` | åœ¨ç€è¦½å™¨é–‹å•Ÿ GAS ç·¨è¼¯å™¨ |
| `npm run gas:logs` | æŸ¥çœ‹ GAS åŸ·è¡Œæ—¥èªŒ |

### 7.5 é–‹ç™¼æµç¨‹

```
1. ä¿®æ”¹ backend/gas/Code.js
2. åŸ·è¡Œ npm run gas:pushï¼ˆæ¨é€åˆ° GASï¼‰
3. åœ¨ GAS ç·¨è¼¯å™¨ä¸­æ¸¬è©¦ï¼ˆnpm run gas:openï¼‰
4. ç¢ºèªç„¡èª¤å¾Œéƒ¨ç½²ï¼šnpm run gas:deploy
5. æäº¤è®Šæ›´åˆ° Git
```

### 7.6 GitHub Actions è‡ªå‹•éƒ¨ç½²

ç•¶ `backend/gas/**` æª”æ¡ˆè®Šæ›´ä¸¦ push åˆ° `main` branch æ™‚ï¼Œæœƒè‡ªå‹•è§¸ç™¼ GAS éƒ¨ç½²ã€‚

**Workflow æª”æ¡ˆ**: `.github/workflows/gas-deploy.yml`

**ç›¸é—œè¨­å®š**:
- GitHub Secret: `CLASP_CREDENTIALS`ï¼ˆclasp èªè­‰ JSONï¼‰
- è§¸ç™¼æ¢ä»¶: `backend/gas/**` æª”æ¡ˆè®Šæ›´
- ä¹Ÿæ”¯æ´æ‰‹å‹•è§¸ç™¼ï¼ˆworkflow_dispatchï¼‰

**æŸ¥çœ‹éƒ¨ç½²ç‹€æ…‹**: [GitHub Actions](https://github.com/ys-fang/hour-of-ai-landing/actions)

**æ›´æ–°èªè­‰ï¼ˆToken éæœŸæ™‚ï¼‰**:
```bash
# 1. é‡æ–°ç™»å…¥
clasp login

# 2. æ›´æ–° GitHub Secret
gh secret set CLASP_CREDENTIALS < ~/.clasprc.json
```

### 7.7 æ³¨æ„äº‹é …

- `.clasprc.json`ï¼ˆèªè­‰æª”æ¡ˆï¼‰å·²åŠ å…¥ `.gitignore`ï¼Œä¸æœƒè¢«æäº¤
- æ¯å€‹é–‹ç™¼è€…éœ€è¦è‡ªå·±åŸ·è¡Œ `clasp login` å–å¾—èªè­‰
- éƒ¨ç½²æ–°ç‰ˆæœ¬æ™‚ï¼ŒWeb App URL ä¸æœƒæ”¹è®Šï¼ˆé™¤éå»ºç«‹æ–°çš„ deploymentï¼‰
- å¦‚æœè¦æ›´æ–° Web App URLï¼Œéœ€è¦åœ¨ GAS ç·¨è¼¯å™¨ä¸­ã€ŒDeploy > Manage deploymentsã€
- GitHub Actions ä½¿ç”¨çš„æ˜¯ `CLASP_CREDENTIALS` secret ä¸­çš„èªè­‰

---

## 8. Taiwan Rank Trackerï¼ˆæ’åè¿½è¹¤å™¨ï¼‰

**å·²æ•´åˆåˆ°ä¸» GAS å°ˆæ¡ˆ** (2026-01-29)

æ¯æ—¥è‡ªå‹•è¿½è¹¤å°ç£åœ¨ Hour of AI å…¨çƒæ´»å‹•è¨»å†Šä¸­çš„æ’åï¼Œä¸¦ç™¼é€é€šçŸ¥è‡³ Slackã€‚

### 8.1 æ¶æ§‹

```
CSforAll å…¬é–‹ Google Sheets
    â†“ UrlFetchApp.fetch (CSV export)
ä¸» GAS å°ˆæ¡ˆ (Code.js)
    â†“ sendToSlack() via Webhook
Slack Channel (#hour-of-ai)
```

### 8.2 é…ç½®

ç›¸é—œè¨­å®šå·²æ•´åˆåˆ° `CONFIG` ç‰©ä»¶ï¼š

```javascript
// backend/gas/Code.js
CONFIG = {
  // ...å…¶ä»–è¨­å®š...
  ENABLE_RANK_TRACKER: true,
  RANK_TRACKER_DATA_URL: 'https://docs.google.com/spreadsheets/d/1QDTmNNP3i6Nfhg6y7qp5V_cSL6ciNsMyF3bEjyKXTsY/export?format=csv',
  RANK_TRACKER_TARGET_COUNTRY: 'Taiwan',
}
```

### 8.3 åŠŸèƒ½

- æŠ“å–å„åœ‹ Hour of AI æ´»å‹•è¨»å†Šæ•¸é‡
- è¨ˆç®—å°ç£æ’åã€ç™¾åˆ†ä½ã€å‰å¾Œåæ¬¡åœ‹å®¶
- ç™¼é€æ ¼å¼åŒ–é€šçŸ¥åˆ° Slackï¼ˆä½¿ç”¨ Webhookï¼‰

### 8.4 è§¸ç™¼å™¨è¨­å®š

éœ€è¦åœ¨ GAS ç·¨è¼¯å™¨ä¸­è¨­å®š Time-driven triggerï¼š
1. é–‹å•Ÿ GAS ç·¨è¼¯å™¨ï¼š`npm run gas:open`
2. é»é¸ã€Œè§¸ç™¼å™¨ã€åœ–ç¤ºï¼ˆæ™‚é˜ï¼‰
3. æ–°å¢è§¸ç™¼å™¨ï¼š
   - å‡½æ•¸ï¼š`trackTaiwanRank`
   - äº‹ä»¶ä¾†æºï¼šæ™‚é–“é©…å‹•
   - é¡å‹ï¼šæ¯æ—¥å®šæ™‚å™¨
   - æ™‚é–“ï¼šé¸æ“‡é©åˆçš„æ™‚æ®µ

### 8.5 æ¸¬è©¦

```bash
# åœ¨ GAS ç·¨è¼¯å™¨ä¸­åŸ·è¡Œ
testTaiwanRankTracker()
```

---

## 9. Analytics è¿½è¹¤

### 9.1 Google Analytics 4 è¨­å®š

| é …ç›® | å€¼ |
|------|-----|
| **Measurement ID** | `G-Q3BND056JE` |
| **Property åç¨±** | Hour of AI Landing |
| **è³‡æ–™ä¸²æµ** | Web - hoa.junyiacademy.org |

### 9.2 è¿½è¹¤äº‹ä»¶

ç›®å‰å·²è¨­å®šçš„è‡ªå‹•è¿½è¹¤äº‹ä»¶ï¼š

| äº‹ä»¶åç¨± | è§¸ç™¼æ™‚æ©Ÿ | åƒæ•¸ |
|----------|----------|------|
| `page_view` | é é¢è¼‰å…¥ | è‡ªå‹• |
| `form_submission` | è¡¨å–®æˆåŠŸæäº¤ | `event_category`, `event_label` |

### 9.3 æŸ¥çœ‹å ±è¡¨

1. å‰å¾€ [Google Analytics](https://analytics.google.com/)
2. é¸æ“‡å¸³æˆ¶ `jutor-a8ad8` â†’ è³‡æº `Hour of AI Landing`
3. å ±è¡¨ â†’ å³æ™‚ï¼šæŸ¥çœ‹ç•¶å‰è¨ªå®¢
4. å ±è¡¨ â†’ åƒèˆ‡ â†’ äº‹ä»¶ï¼šæŸ¥çœ‹è¡¨å–®æäº¤ç­‰äº‹ä»¶

---

## 10. å¸¸è¦‹å•é¡Œæ’é™¤

### Q: è¡¨å–®æäº¤å¾Œ Google Sheets æ²’æœ‰æ–°è³‡æ–™ï¼Ÿ

1. é–‹å•Ÿ Browser Console (F12)
2. æª¢æŸ¥æ˜¯å¦é¡¯ç¤º `ğŸ§ª Demo Mode` â†’ è¡¨ç¤ºé€²å…¥æ¨¡æ“¬æ¨¡å¼
3. å¦‚æœæ˜¯ Production æ‡‰é¡¯ç¤º `ğŸ”¥ Detected Firebase Hosting`
4. æª¢æŸ¥ Network Tab æ˜¯å¦æœ‰ request é€å‡º

### Q: æ–°å¢ç¶²åŸŸå¾Œè¡¨å–®ç„¡æ³•æäº¤ï¼Ÿ

1. ç¢ºèªå‰ç«¯ `getFormSubmitUrl()` æœ‰åŠ å…¥æ–°ç¶²åŸŸåˆ¤æ–·
2. ç¢ºèª Google Apps Script ç™½åå–®æœ‰åŠ å…¥æ–°ç¶²åŸŸ
3. ç¢ºèª Google Apps Script æœ‰é‡æ–° Deploy

### Q: Vercel Preview æƒ³è¦æ¸¬è©¦çœŸå¯¦æäº¤ï¼Ÿ

ç›®å‰è¨­è¨ˆç‚º Demo Modeã€‚å¦‚éœ€æ¸¬è©¦çœŸå¯¦æäº¤ï¼š
1. åœ¨ Google Apps Script ç™½åå–®åŠ å…¥ `*.vercel.app`ï¼ˆæœ‰å®‰å…¨é¢¨éšªï¼‰
2. æˆ–åœ¨ URL åŠ ä¸Š `?apiUrl=YOUR_SCRIPT_URL` åƒæ•¸

### Q: GA æ²’æœ‰æ”¶åˆ°è³‡æ–™ï¼Ÿ

1. é–‹å•Ÿ Browser Consoleï¼Œæœå°‹ `gtag` ç›¸é—œéŒ¯èª¤
2. ç¢ºèª Measurement ID æ­£ç¢ºï¼ˆ`G-Q3BND056JE`ï¼‰
3. ä½¿ç”¨ GA å³æ™‚å ±è¡¨ç¢ºèªæ˜¯å¦æœ‰æ”¶åˆ°äº‹ä»¶
4. æ³¨æ„ï¼šGA å ±è¡¨æœ‰æ™‚æœƒå»¶é²æ•¸å°æ™‚

---

## 11. SEO èˆ‡ç¤¾ç¾¤åˆ†äº«

### 11.1 Open Graph / Twitter Card

å·²è¨­å®šç¤¾ç¾¤åª’é«”åˆ†äº«é è¦½ï¼š
- Open Graph tagsï¼ˆFacebookã€LINE ç­‰ï¼‰
- Twitter Cardï¼ˆsummary_large_imageï¼‰
- é è¦½åœ–ç‰‡ï¼šå‡ä¸€é¦–é æœ€æ–°æ¶ˆæ¯Hour-of-AIï¼¿25Q3ï¼¿V1.jpg

**é©—è­‰å·¥å…·**:
- [Facebook Sharing Debugger](https://developers.facebook.com/tools/debug/)
- [Twitter Card Validator](https://cards-dev.twitter.com/validator)

### 11.2 SEO æª”æ¡ˆ

| æª”æ¡ˆ | è·¯å¾‘ | ç”¨é€” |
|------|------|------|
| sitemap.xml | /sitemap.xml | ç¶²ç«™åœ°åœ–ï¼Œå”åŠ©æœå°‹å¼•æ“ç´¢å¼• |
| robots.txt | /robots.txt | æœå°‹å¼•æ“çˆ¬èŸ²æŒ‡å¼• |

### 11.3 æ•ˆèƒ½å„ªåŒ–

- **åœ–ç‰‡ Lazy Loading**: éé¦–å±åœ–ç‰‡ä½¿ç”¨ `loading="lazy"`
- **Theme Color**: è¨­å®šç‚º `#003D82`ï¼ˆå‡ä¸€æ·±è—è‰²ï¼‰
- **Preconnect**: å·²å° Google Fonts ç­‰å¤–éƒ¨è³‡æºè¨­å®š preconnect

### 11.4 AI çˆ¬èŸ²å„ªåŒ–

| æª”æ¡ˆ | è·¯å¾‘ | ç”¨é€” |
|------|------|------|
| llms.txt | /llms.txt | æä¾›çµ¦ AI çˆ¬èŸ²çš„çµæ§‹åŒ–ç¶²ç«™èªªæ˜ |
| JSON-LD | index.html head | Schema.org EducationalEvent çµæ§‹åŒ–è³‡æ–™ |

---

## 12. å°ˆæ¡ˆçµæ§‹

### 12.1 ç›®éŒ„æ¶æ§‹

```
hour-of-ai-landing/
â”œâ”€â”€ src/                    # åŸå§‹ç¢¼
â”‚   â”œâ”€â”€ index.html          # HTML æ¨¡æ¿
â”‚   â”œâ”€â”€ styles/
â”‚   â”‚   â””â”€â”€ main.css        # æ¨£å¼è¡¨
â”‚   â””â”€â”€ scripts/
â”‚       â””â”€â”€ main.js         # JavaScript
â”œâ”€â”€ public/                 # éœæ…‹è³‡æºï¼ˆæœƒç›´æ¥è¤‡è£½åˆ° dist/ï¼‰
â”‚   â”œâ”€â”€ favicon.ico
â”‚   â”œâ”€â”€ robots.txt
â”‚   â”œâ”€â”€ sitemap.xml
â”‚   â””â”€â”€ llms.txt
â”œâ”€â”€ dist/                   # å»ºç½®è¼¸å‡ºï¼ˆç”± Vite ç”¢ç”Ÿï¼‰
â”œâ”€â”€ package.json            # npm è¨­å®š
â”œâ”€â”€ vite.config.js          # Vite è¨­å®š
â”œâ”€â”€ firebase.json           # Firebase Hosting è¨­å®š
â””â”€â”€ .github/workflows/      # GitHub Actions
```

### 12.2 å»ºç½®å·¥å…·

| å·¥å…· | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Vite | ^5.4.0 | ç¾ä»£åŒ–å‰ç«¯å»ºç½®å·¥å…· |
| Node.js | 20.x | åŸ·è¡Œç’°å¢ƒ |

### 12.3 npm æŒ‡ä»¤

| æŒ‡ä»¤ | èªªæ˜ |
|------|------|
| `npm run dev` | å•Ÿå‹•é–‹ç™¼ä¼ºæœå™¨ï¼ˆlocalhost:5000ï¼‰ |
| `npm run build` | å»ºç½® production ç‰ˆæœ¬è‡³ dist/ |
| `npm run preview` | é è¦½å»ºç½®çµæœ |
| `npm run lint` | æª¢æŸ¥ç¨‹å¼ç¢¼å“è³ª |
| `npm run lint:fix` | è‡ªå‹•ä¿®å¾© lint å•é¡Œ |
| `npm run format` | æ ¼å¼åŒ–ç¨‹å¼ç¢¼ |
| `npm run gas:push` | æ¨é€ GAS ç¨‹å¼ç¢¼ |
| `npm run gas:deploy` | éƒ¨ç½² GAS æ–°ç‰ˆæœ¬ |

### 12.4 PWA æ”¯æ´

| æª”æ¡ˆ | èªªæ˜ |
|------|------|
| manifest.json | PWA é…ç½®ï¼ˆåç¨±ã€åœ–ç¤ºã€ä¸»é¡Œè‰²ï¼‰ |
| sw.js | Service Workerï¼ˆé›¢ç·šå¿«å–ï¼‰ |

PWA åŠŸèƒ½ï¼š
- å¯å®‰è£åˆ°æ‰‹æ©Ÿæ¡Œé¢
- åŸºæœ¬é›¢ç·šæ”¯æ´ï¼ˆNetwork First ç­–ç•¥ï¼‰
- ä¸»é¡Œè‰²èˆ‡å•Ÿå‹•ç•«é¢

---

## 13. æœªä¾†è¦åŠƒ

- [x] ~~è¨­å®š GitHub Actionï¼Œmain branch merge å¾Œè‡ªå‹•éƒ¨ç½²åˆ° Firebase~~ âœ… å·²å®Œæˆ (2026-01-23)
- [x] ~~åŠ å…¥ OG meta tagsï¼ˆç¤¾ç¾¤åª’é«”åˆ†äº«é è¦½ï¼‰~~ âœ… å·²å®Œæˆ (2026-01-23)
- [x] ~~åŠ å…¥ sitemap.xml å’Œ robots.txt~~ âœ… å·²å®Œæˆ (2026-01-23)
- [x] ~~Lighthouse å„ªåŒ–ï¼ˆlazy loadingã€theme-colorï¼‰~~ âœ… å·²å®Œæˆ (2026-01-23)
- [x] ~~æ¨¡çµ„åŒ–é‡æ§‹ï¼ˆVite å»ºç½®ã€CSS/JS åˆ†é›¢ï¼‰~~ âœ… å·²å®Œæˆ (2026-01-23)
- [x] ~~JSON-LD çµæ§‹åŒ–è³‡æ–™~~ âœ… å·²å®Œæˆ (2026-01-23)
- [x] ~~llms.txtï¼ˆAI çˆ¬èŸ²å„ªåŒ–ï¼‰~~ âœ… å·²å®Œæˆ (2026-01-23)
- [x] ~~PWA æ”¯æ´ï¼ˆmanifest.json + Service Workerï¼‰~~ âœ… å·²å®Œæˆ (2026-01-23)
- [x] ~~404 éŒ¯èª¤é é¢~~ âœ… å·²å®Œæˆ (2026-01-23)
- [x] ~~ç§»é™¤ inline onclickï¼ˆæ”¹ç”¨ addEventListenerï¼‰~~ âœ… å·²å®Œæˆ (2026-01-23)
- [x] ~~ESLint + Prettier è¨­å®š~~ âœ… å·²å®Œæˆ (2026-01-23)
- [x] ~~å®‰å…¨æ€§ Headersï¼ˆReferrer-Policy, Permissions-Policyï¼‰~~ âœ… å·²å®Œæˆ (2026-01-23)
- [x] ~~Preload é—œéµè³‡æº~~ âœ… å·²å®Œæˆ (2026-01-23)
- [x] ~~è¨­å®š hoa.junyiacademy.org ç¶²åŸŸæŒ‡å‘ Firebase Hosting~~ âœ… å·²å®Œæˆ (DNS CNAME â†’ hour-of-ai-landing-junyi.web.app)
- [x] ~~clasp è¨­å®šï¼ˆGAS CLI éƒ¨ç½²ï¼‰~~ âœ… å·²å®Œæˆ (2026-01-29)
- [x] ~~GAS è‡ªå‹•éƒ¨ç½² GitHub Actionsï¼ˆPhase 1ï¼‰~~ âœ… å·²å®Œæˆ (2026-01-29)
- [ ] Cloud Functions è™•ç†å”¯è®€æ“ä½œï¼ˆPhase 2ï¼‰
- [ ] è€ƒæ…®æ˜¯å¦éœ€è¦ Staging ç’°å¢ƒï¼ˆä»‹æ–¼ Preview å’Œ Production ä¹‹é–“ï¼‰
- [ ] æ­£å¼ Apple Touch Iconï¼ˆéœ€ 180x180 PNGï¼‰
- [ ] HTML å…ƒä»¶é€²ä¸€æ­¥æ‹†åˆ†ï¼ˆheader, footer, sectionsï¼‰
- [ ] åœ–ç‰‡ WebP æ ¼å¼å„ªåŒ–

---

## 14. æ–‡ä»¶ç¶­è­·æŒ‡å¼•

> **çµ¦ AI åŠ©æ‰‹çš„æŒ‡å¼•**: ç•¶é€²è¡Œä»¥ä¸‹è®Šæ›´æ™‚ï¼Œè«‹åŒæ­¥æ›´æ–°æ­¤æ–‡ä»¶ï¼š
> - æ–°å¢æˆ–ä¿®æ”¹éƒ¨ç½²ç’°å¢ƒ
> - è®Šæ›´ç™½åå–®è¨­å®š
> - ä¿®æ”¹ç’°å¢ƒåµæ¸¬é‚è¼¯
> - æ–°å¢é–‹ç™¼æµç¨‹æˆ–å·¥å…·
> - è®Šæ›´é‡è¦é€£çµ

---

*å»ºç«‹æ—¥æœŸï¼š2026-01-23*
*æœ€å¾Œæ›´æ–°ï¼š2026-01-29 - æ–°å¢ clasp è¨­å®šï¼ˆGAS CLI éƒ¨ç½²ï¼‰*
